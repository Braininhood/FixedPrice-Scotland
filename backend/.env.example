# ============================================
# REQUIRED - Critical for Application
# ============================================

# Supabase Configuration (REQUIRED)
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=  # Required for admin operations
SUPABASE_JWT_SECRET=  # JWT secret for HS256 token validation (Settings → API → JWT Secret)
SUPABASE_DB_PASSWORD=  # Database password (if using direct connection)

# OpenAI API Key (REQUIRED for AI classification)
OPENAI_API_KEY=

# Security - JWT Secret (optional when using Supabase Auth)
# The API verifies Supabase JWTs via JWKS (Project Settings → JWT Signing Keys); no secret needed.
# Only set this if you use custom tokens (e.g. create_access_token) or legacy Supabase JWT secret.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# JWT_SECRET=generate-your-own-secret-key-here

# ============================================
# EMAIL CONFIGURATION (REQUIRED)
# ============================================

# Email SMTP Settings (REQUIRED for sending subscription invoices)
# 
# For Gmail:
# 1. Go to https://myaccount.google.com/security
# 2. Enable 2-Step Verification
# 3. Go to https://myaccount.google.com/apppasswords
# 4. Generate app password for "Mail"
# 5. Use generated password below (remove spaces!)
#
# Example:
# MAIL_USERNAME=your_email@gmail.com
# MAIL_PASSWORD=abcd efgh ijkl mnop  <- Remove spaces: abcdefghijklmnop
# MAIL_FROM=noreply@fixedpricescotland.com
#
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM=
MAIL_PORT=587
MAIL_SERVER=smtp.gmail.com
MAIL_FROM_NAME=FixedPrice Scotland
MAIL_STARTTLS=True
MAIL_SSL_TLS=False
USE_CREDENTIALS=True
VALIDATE_CERTS=True

# ============================================
# OPTIONAL - For Future Features
# ============================================

# CORS Configuration
# In production, set CORS_ALLOW_LOCALHOST_WILDCARD=false and specify exact origins
# CORS_ALLOW_LOCALHOST_WILDCARD=false
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Stripe Configuration (OPTIONAL - for card payments)
# Currently using bank transfer invoicing
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Zoopla API (OPTIONAL - requires commercial agreement with Hometrack)
# Contact: https://www.hometrack.com/contact-us/
ZOOPLA_CLIENT_ID=
ZOOPLA_CLIENT_SECRET=
ZOOPLA_AUDIENCE=https://services.zoopla.co.uk
ZOOPLA_BASE_URL=https://services.zoopla.co.uk
ZOOPLA_AUTH_URL=https://services-auth.services.zoopla.co.uk/oauth2/token
ZOOPLA_ENABLED=false

# ============================================
# DATABASE CONNECTION (Optional - if not using Supabase)
# ============================================
DB_HOST=
DB_PORT=5432
DB_USER=postgres
DB_NAME=postgres

# SSL Configuration for Database Connections
# SSL mode: 'require' enforces SSL and rejects non-SSL connections
# Options: disable, allow, prefer, require, verify-ca, verify-full
DB_SSL_MODE=require
DB_SSL_CERT_PATH=backend/certs/prod-ca-2021.crt
